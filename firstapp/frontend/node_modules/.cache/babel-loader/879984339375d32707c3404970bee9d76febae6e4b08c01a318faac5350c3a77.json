{"ast":null,"code":"import React,{useState}from'react';import'../styles/Workflow.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Workflow=_ref=>{let{workflow}=_ref;const groupedByPhase=workflow.reduce((acc,subtask)=>{acc[subtask.phase]=acc[subtask.phase]||[];acc[subtask.phase].push(subtask);return acc;},{});const[expandedSubtasks,setExpandedSubtasks]=useState({});const[expandedSteps,setExpandedSteps]=useState({});const toggleSubtask=index=>{setExpandedSubtasks(prev=>({...prev,[index]:!prev[index]// Toggle subtask visibility by index\n}));};const toggleStepDetails=(subtaskIndex,stepIndex)=>{setExpandedSteps(prev=>({...prev,[`${subtaskIndex}-${stepIndex}`]:!prev[`${subtaskIndex}-${stepIndex}`]}));};const getRoleLabel=role=>{switch(role){case'AI':return'AI';case'Human':return'H';default:return'&';}};return/*#__PURE__*/_jsx(\"div\",{className:\"workflow-container\",children:Object.entries(groupedByPhase).map((_ref2,phaseIndex)=>{let[phase,subtasks]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"phase-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"phase-label-container\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"phase-label-text\",children:[\"Phase: \",phase]})}),/*#__PURE__*/_jsx(\"div\",{className:\"subtasks-wrapper\",children:subtasks.map((subtask,subtaskIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"subtask\",onClick:()=>toggleSubtask(`${phaseIndex}-${subtaskIndex}`),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"subtask-title\",children:subtask.name}),/*#__PURE__*/_jsx(\"p\",{className:\"subtask-description\",children:subtask.description}),expandedSubtasks[`${phaseIndex}-${subtaskIndex}`]&&/*#__PURE__*/_jsx(\"div\",{className:\"steps\",children:subtask.steps.map((step,stepIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"step\",onClick:e=>{e.stopPropagation();toggleStepDetails(`${phaseIndex}-${subtaskIndex}`,stepIndex);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-indexCircle step-index\",children:stepIndex+1}),/*#__PURE__*/_jsx(\"div\",{className:\"step-name\",children:step.name}),/*#__PURE__*/_jsx(\"div\",{className:\"step-roleCircle step-role\",children:getRoleLabel(step.role)})]}),expandedSteps[`${phaseIndex}-${subtaskIndex}-${stepIndex}`]&&/*#__PURE__*/_jsxs(\"div\",{className:\"step-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step-attribute\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Objective:\"}),\" \",step.objective]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-attribute\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),\" \",step.role]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-attribute\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rationale:\"}),\" \",step.rationale]})]})]},stepIndex))})]},subtaskIndex))})]},phase);})});};export default Workflow;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","Workflow","_ref","workflow","groupedByPhase","reduce","acc","subtask","phase","push","expandedSubtasks","setExpandedSubtasks","expandedSteps","setExpandedSteps","toggleSubtask","index","prev","toggleStepDetails","subtaskIndex","stepIndex","getRoleLabel","role","className","children","Object","entries","map","_ref2","phaseIndex","subtasks","onClick","name","description","steps","step","e","stopPropagation","objective","rationale"],"sources":["/Users/huangjiashu/Desktop/AI Projects/doai/firstapp/frontend/src/components/Workflow.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/Workflow.css';\n\nconst Workflow = ({ workflow }) => {\n  const groupedByPhase = workflow.reduce((acc, subtask) => {\n    acc[subtask.phase] = acc[subtask.phase] || [];\n    acc[subtask.phase].push(subtask);\n    return acc;\n  }, {});\n\n  const [expandedSubtasks, setExpandedSubtasks] = useState({});\n  const [expandedSteps, setExpandedSteps] = useState({});\n\n  const toggleSubtask = (index) => {\n    setExpandedSubtasks((prev) => ({\n      ...prev,\n      [index]: !prev[index], // Toggle subtask visibility by index\n    }));\n  };\n\n  const toggleStepDetails = (subtaskIndex, stepIndex) => {\n    setExpandedSteps((prev) => ({\n      ...prev,\n      [`${subtaskIndex}-${stepIndex}`]: !prev[`${subtaskIndex}-${stepIndex}`],\n    }));\n  };\n\n\n  const getRoleLabel = (role) => {\n    switch (role) {\n      case 'AI':\n        return 'AI';\n      case 'Human':\n        return 'H';\n      default:\n        return '&';\n    }\n  };\n\n  return (\n    <div className=\"workflow-container\">\n      {Object.entries(groupedByPhase).map(([phase, subtasks], phaseIndex) => (\n        <div key={phase} className=\"phase-row\">\n          <div className=\"phase-label-container\">\n            <span className=\"phase-label-text\">Phase: {phase}</span>\n          </div>\n          <div className=\"subtasks-wrapper\">\n            {subtasks.map((subtask, subtaskIndex) => (\n              <div\n                key={subtaskIndex}\n                className=\"subtask\"\n                onClick={() => toggleSubtask(`${phaseIndex}-${subtaskIndex}`)}\n              >\n                <h2 className=\"subtask-title\">{subtask.name}</h2>\n                <p className=\"subtask-description\">{subtask.description}</p>\n\n                {expandedSubtasks[`${phaseIndex}-${subtaskIndex}`] && (\n                  <div className=\"steps\">\n                    {subtask.steps.map((step, stepIndex) => (\n                      <div\n                        key={stepIndex}\n                        className=\"step\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          toggleStepDetails(\n                            `${phaseIndex}-${subtaskIndex}`,\n                            stepIndex\n                          );\n                        }}\n                      >\n                        <div className=\"step-header\">\n                          <div className=\"step-indexCircle step-index\">{stepIndex + 1}</div>\n                          <div className=\"step-name\">{step.name}</div>\n                          <div className=\"step-roleCircle step-role\">\n                            {getRoleLabel(step.role)}\n                          </div>\n                        </div>\n\n                        {expandedSteps[`${phaseIndex}-${subtaskIndex}-${stepIndex}`] && (\n                          <div className=\"step-details\">\n                            <div className=\"step-attribute\">\n                              <strong>Objective:</strong> {step.objective}\n                            </div>\n                            <div className=\"step-attribute\">\n                              <strong>Role:</strong> {step.role}\n                            </div>\n                            <div className=\"step-attribute\">\n                              <strong>Rationale:</strong> {step.rationale}\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Workflow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}